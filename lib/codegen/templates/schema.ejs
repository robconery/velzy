//generated <%-new Date()%>

const { gql } = require('apollo-server-azure-functions');
const { GraphQLJSON } = require("graphql-type-json");
const assert = require("assert");

const typeDefs = gql`
  scalar JSON
  
<%-types%>

  type Query {
<%-queryTypes%>
  }

  type Mutation {
<%-mutationTypes%>
  }

`;

const buildResolvers = (db) => {
  return {
    JSON: GraphQLJSON,

    Query: {
<%-queryResolvers%>
    },

    Mutation: {
<%-mutationResolvers%>
    },
  }
};

exports.build = function(db){
  const resolvers = buildResolvers(db);
  return {typeDefs: typeDefs, resolvers: resolvers}
};